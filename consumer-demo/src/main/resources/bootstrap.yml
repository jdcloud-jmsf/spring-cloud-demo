spring:
  application:
    name: ${JMESH_SERVICE_APP:sc-consumer}
  main:
    web-application-type: servlet
  profiles:
    active: '@activeProfile@'
  redis:
    host: ${REDIS_HOST:svc.meshware.io}
    port: ${REDIS_PORT:6379}
    password: ${REDIS_PASSWORD:123456}
    database: 0
    lettuce:
      pool:
        max-idle: 6
        max-active: 32
        max-wait: 100
        min-idle: 4
  datasource:
    url: ${DB_URL:jdbc:mysql://svc.meshware.io:3306/test?characterEncoding=UTF-8}
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:mysql.meshware.io}
  jpa:
    database: MYSQL
    show-sql: true
    generate-ddl: true
    hibernate:
      naming:
        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
      ddl-auto: update
  jackson:
    serialization:
      indent_output: true

  cloud:
    polaris:
      address: ${POLARIS_ADDR:grpc://119.91.66.223:8091}
      namespace: ${POLARIS_NAMESPACE:default}
      enabled: true
      discovery:
        enabled: true
        register: true
        heartbeat:
          enabled: true
        health-check-url: /healthCheck
      contract:
        exposure: true
        report:
          enabled: false
      circuitbreaker:
        enabled: true
      stat:
        enabled: true
        port: 28082
      pushgateway:
        enabled: true
        address: ${PUSHGATEWAY_ADDR:119.91.66.223:9091}
      config:
        address: ${POLARIS_CONFIG_ADDR:grpc://119.91.66.223:8093}
        auto-refresh: true
        groups:
          - name: ${spring.application.name}
            files: [ "config/callee.properties" ]
        enabled: false
      loadbalancer:
        strategy: random
    tencent:
      metadata:
        content:
          cluster: ${CLUSTER:unknown}
        transitive:
          - cluster
      rpc-enhancement:
        enabled: true
        reporter:
          enabled: true
          ignore-internal-server-error: true
          series: server_error
          statuses: gateway_timeout, bad_gateway, service_unavailable

cache:
  adapter:
    enable: ${R2M_ENABLE:true}
    cacheType: r2m  #缓存使用类型，如果项目使用r2m，此处必须配置为`r2m`

  r2m:
    app-name: ${R2M_APPNAME:admin_demo_demo_demo}
    #    zookeeper-address: 172.25.46.201:2181,172.25.46.221:2181,172.25.46.241:2181
    cc-address: ${R2M_CC_ADDR:10.10.0.23:8175}
    token: ${R2M_TOKEN:a01cca3ff8}
    password: ${R2M_PASSWORD:YV6cS9INiClNHivH}